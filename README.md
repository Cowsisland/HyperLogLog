# hyperloglog アルゴリズムを実装する

## 仕様
1. 基本的なデータ構造の定義
    - レジスタ配列 (Register Array): HyperLogLogは、0で初期化されたレジスタ配列を使用します。Vec<u8>のような形式で定義します。
2. ハッシュ関数の実装
    - 要素のハッシュ化: 入力データを適切なハッシュ関数（例: murmur3やxxhashなど）でハッシュ値に変換します。この際、ハッシュ関数の出力は十分に均一でなければなりません。
3. レジスタのインデックス計算
    - インデックス抽出: ハッシュ値の一部（上位ビット）を使用して、レジスタ配列のインデックスを決定します。
4. リーディングゼロのカウント
    - リーディングゼロのカウント: ハッシュ値の残りの部分でリーディングゼロをカウントし、対応するレジスタに格納します。
5. マージ処理
    - レジスタのマージ: 複数のHyperLogLogをマージする処理を実装します。このとき、各レジスタの最大値を取る必要があります。
6. バイアス補正と推定
    - バイアス補正: 理論的な推定値に対してバイアスを補正します。これはHyperLogLogの理論に基づきます。
推定値の計算: レジスタ配列の情報を元にカーディナリティ（推定集合サイズ）を計算します。
7. エッジケースの処理
    - スパースモードの処理: 要素数が少ない場合の特殊な処理（スパースモード）を実装します。
オーバーフローの処理: 値が大きすぎる場合の処理や、精度の問題を考慮します。
8. テストと最適化
    - ユニットテストの作成: 各機能が正しく動作するかを確認するために、ユニットテストを作成します。
    - パフォーマンスの最適化: 必要に応じて、アルゴリズムやデータ構造を最適化します。